{"version":3,"sources":["libs/utils/useIntersection.ts","libs/lazy-load/LazyImage.tsx","components/base/introduce/Introduce.tsx","components/views/home/Home.tsx"],"names":["useIntersection","ref","options","useState","entry","setEntry","once","root","rootMargin","threshold","useEffect","node","document","querySelector","current","window","IntersectionObserver","observer","entries","isIntersecting","disconnect","observe","inview","LazyImage","React","forwardRef","props","className","src","preview","loadType","load","onLoaded","onLoadProp","id","others","viewRef","useRef","lazyload","useLazyImage","loading","imgsrc","cloneElement","img","alt","style","transition","filter","transform","onLoad","imgSource","executing","setLoading","loaded","Image","onload","WOW","require","Introduce","live","init","renderHTML","data","useLocalize","visual","ishomepage","mimeType","includes","url","loop","autoPlay","muted","logo","label","intro","data-wow-delay","quote","scrollable","scroll","Value","lazy","ScrollVideo","Strength","BestCase","Brand","OurGame","Home","useLocalizePage","fallback","showArrow","keyIndex"],"mappings":"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","file":"static/js/10.9be9d816.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\ntype UseIntersectionProps = {\r\n  once?: boolean;\r\n};\r\ntype UseIntersectionType = IntersectionObserverInit & UseIntersectionProps;\r\n\r\nconst useIntersection = (ref: React.RefObject<HTMLElement> | string | null, options?: UseIntersectionType) => {\r\n  const [entry, setEntry] = useState<IntersectionObserverEntry>();\r\n  const { once, root, rootMargin, threshold } = options || {};\r\n\r\n  useEffect(() => {\r\n    const node = typeof ref == \"string\" ? document.querySelector(ref) : ref?.current;\r\n    if (node && window.IntersectionObserver) {\r\n      const handleIntersection = (entries: IntersectionObserverEntry[]) => {\r\n        setEntry(entries[0]);\r\n        once && entries[0].isIntersecting && observer.disconnect();\r\n      };\r\n\r\n      const observer = new window.IntersectionObserver(handleIntersection, {\r\n        root: root,\r\n        rootMargin: rootMargin,\r\n        threshold: threshold,\r\n      });\r\n      observer.observe(node);\r\n\r\n      return () => observer.disconnect();\r\n    }\r\n  }, [ref, once, root, rootMargin, threshold]);\r\n\r\n  return { inview: entry?.isIntersecting ? true : false, entry };\r\n};\r\n\r\nexport default useIntersection;\r\n","import useIntersection from \"libs/utils/useIntersection\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { LazyType } from \"./LazyLoad\";\r\nimport \"./LazyLoad.scss\";\r\n\r\nexport interface LazyImageProps {\r\n  className?: string;\r\n  preview?: JSX.Element;\r\n  alt?: string;\r\n  src: string;\r\n  loadType?: LazyType;\r\n  load?: boolean;\r\n  id?: string;\r\n  onLoadProp?: () => void;\r\n  onLoaded?: () => void;\r\n}\r\nconst LazyImage = React.forwardRef<any, React.PropsWithChildren<LazyImageProps> & React.DOMAttributes<HTMLImageElement>>((props, ref) => {\r\n  let { className, preview, src, loadType, load, onLoaded, onLoadProp, id, ...others } = props;\r\n  loadType = loadType || \"inview\"; // default props\r\n\r\n  const viewRef = useRef<HTMLImageElement | null>(null);\r\n  const { inview } = useIntersection(loadType === \"inview\" ? viewRef : null, { once: true });\r\n\r\n  let lazyload = true;\r\n  if (loadType === \"inview\") lazyload = inview;\r\n  else if (loadType === \"manual\") lazyload = load || false;\r\n\r\n  const { loading, src: imgsrc } = useLazyImage(src, lazyload);\r\n\r\n  useEffect(() => {\r\n    if (!loading) onLoaded?.();\r\n  }, [loading, onLoaded]);\r\n\r\n  const styles = () => {\r\n    return {\r\n      transition: \"filter 0.5s linear\",\r\n      filter: `${loading ? \"blur(30px)\" : \"\"}`,\r\n      transform: `${loading ? \"scale(1.1)\" : \"\"}`,\r\n    };\r\n  };\r\n\r\n  return loading && props.preview ? (\r\n    React.cloneElement(props.preview, {\r\n      className: className,\r\n      ref: viewRef,\r\n    })\r\n  ) : (\r\n      <img\r\n        ref={(img) => {\r\n          viewRef.current = img;\r\n          ref && (typeof ref === \"function\" ? ref(img) : (ref.current = img));\r\n        }}\r\n        className={`lazy-image ${className || \"\"} lazy-image--${loading ? \"loading\" : \"loaded\"}`}\r\n        src={imgsrc}\r\n        alt={props.alt}\r\n        style={styles()}\r\n        id={id}\r\n        onLoad={onLoadProp}\r\n        {...others}\r\n      />\r\n    );\r\n});\r\n\r\nexport default LazyImage;\r\n\r\nconst useLazyImage = (imgSource: string, executing: boolean = true) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const loaded = useRef(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    loaded.current = false;\r\n  }, [imgSource]);\r\n\r\n  executing = executing && !loaded.current;\r\n  useEffect(() => {\r\n    if (executing) {\r\n      setLoading(true);\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        loaded.current = true;\r\n        setLoading(false);\r\n      };\r\n      img.src = imgSource;\r\n\r\n      return () => {\r\n        img.onload = null;\r\n      };\r\n    }\r\n  }, [imgSource, executing]);\r\n  const src = !executing && !loaded.current ? \"\" : imgSource;\r\n  return { src, loading };\r\n};\r\n\r\nexport { useLazyImage };\r\n\r\n","import LazyImage from \"libs/lazy-load/LazyImage\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useLocalize } from \"store/actions/localizeAction\";\r\nimport \"./Introduce.scss\";\r\nconst WOW = require(\"wowjs\");\r\n\r\nexport interface IntroduceDataType {\r\n  label: {\r\n    intro: string;\r\n    quote: string;\r\n    scroll: string;\r\n  };\r\n  visual: {\r\n    mimeType: string;\r\n    url: string;\r\n  };\r\n  logo: {\r\n    mimeType: string;\r\n    url: string;\r\n  };\r\n}\r\nexport interface IntroduceProps {\r\n  scrollable?: any;\r\n  ishomepage?: any;\r\n}\r\n\r\nconst Introduce: React.FC<IntroduceProps> = (props) => {\r\n  useEffect(() => {\r\n    const wow = new WOW.WOW({\r\n      live: false,\r\n    });\r\n    wow.init();\r\n  }, []);\r\n  const renderHTML = require(\"react-render-html\");\r\n  const data = useLocalize<IntroduceDataType>(\"intro\");\r\n\r\n  const renderNotHomepage = () => {\r\n    if (data.visual.mimeType.includes(\"video\")) {\r\n      return <video src={data.visual.url} loop autoPlay={true} muted></video>;\r\n    } else {\r\n      return <LazyImage className=\"img-bg\" src={data.visual.url} alt=\"\" />;\r\n    }\r\n  };\r\n\r\n  const renderHomepage = () => {\r\n    if (data.visual.mimeType.includes(\"video\")) {\r\n      return <video src={data.visual.url} loop autoPlay={true} muted></video>;\r\n    } else {\r\n      return <div className=\"div-bg\" >\r\n        <LazyImage className=\"lazaImg-abs\" src={data.visual.url}></LazyImage>\r\n      </div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"com-introduce \" id=\"introduce\" {...props}>\r\n      <div className=\"wrapper-video\">\r\n        {data?.visual && (props.ishomepage === \"true\" ? renderHomepage() : renderNotHomepage())}\r\n        {/* {props.ishomepage && data?.logo && <img className=\"logo\" src={data.logo.url} alt=\"logoIntro\" />} */}\r\n      </div>\r\n\r\n      <div className=\"wrapper-content\">\r\n        {props.ishomepage === \"true\" && data?.logo && <LazyImage src={data.logo.url} alt=\"logo\" />}\r\n\r\n        <div className={`${props.ishomepage === \"true\" ? \"\" : \"top\"} block-content`}>\r\n          <div className=\"first-content \">\r\n            <h2 className=\"title wow fadeInUp\">{data?.label.intro}</h2>\r\n            <div className=\"content wow fadeInUp\" data-wow-delay=\"0.2s\">\r\n              {data?.label.quote && renderHTML(data.label.quote)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {props.scrollable === \"true\" && (\r\n        <div className=\"block-scroll1\">\r\n          <div className=\"hr-scroll\"></div>\r\n          <div className=\"bounceScroll\">{data?.label.scroll}</div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Introduce;\r\n","import Introduce from \"components/base/introduce/Introduce\";\r\nimport React, { Suspense } from \"react\";\r\nimport { useLocalizePage } from \"store/actions/localizeAction\";\r\nimport \"./Home.scss\";\r\nconst Value = React.lazy(() => import('components/base/value/Value'));\r\nconst ScrollVideo = React.lazy(() => import('components/base/scrollVideo/ScrollVideo'));\r\nconst Strength = React.lazy(() => import('components/base/strength/Strength'));\r\nconst BestCase = React.lazy(() => import('components/base/bestcase/BestCase'));\r\nconst Brand = React.lazy(() => import('components/base/brand/Brand'));\r\nconst OurGame = React.lazy(() => import('components/base/ourgame/OurGame'));\r\n\r\nconst Home: React.FC = () => {\r\n  useLocalizePage(\"home\", \"/api/page/en/home?includeBaseData=1\");\r\n\r\n  return (\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <div className=\"com-home animated fadeIn\">\r\n        <Introduce ishomepage=\"true\" scrollable=\"true\" />\r\n        <Value />\r\n        <ScrollVideo />\r\n        <Strength showArrow={false} keyIndex={null} />\r\n        <BestCase />\r\n        <Brand />\r\n        <OurGame />\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}